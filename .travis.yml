language: python

cache: pip

python:
  - "3.7"

install:
  - pip install -e .
  - pip install -e '.[rl]'
  - pip install -e '.[dash]'
  - pip install -r requirements.txt
  - pip install -r docs/requirements.txt
  - pip install -r tests/requirements.txt

jobs:
  include:
    - stage: doc
      script:
        - make travis-doc
    - stage: unit-test
      script:
        - export OLYMPUS_PROGRESS_FREQUENCY_EPOCH=0
        - export OLYMPUS_PROGRESS_FREQUENCY_BATCH=0
        - make travis-unit
        - make travis-minimalist
        - make travis-custom
        - make travis-hpo_simple
        - make travis-classification
        - make travis-end
